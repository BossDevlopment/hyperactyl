<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      rel="shortcut icon"
      href="/assetsnew/images/favicon.svg"
      type="image/x-icon"
    />
    <title></title>

    
    <script src="https://kit.fontawesome.com/9f45c806ba.js" crossorigin="anonymous"></script>
    <!-- ========== All CSS files linkup ========= -->
    <link rel="stylesheet" href="/assetsnew/css/bootstrap.min.css" />
    <link rel="stylesheet" href="/assetsnew/css/lineicons.css" />
    <link rel="stylesheet" href="/assetsnew/css/materialdesignicons.min.css" />
    <link rel="stylesheet" href="/assetsnew/css/fullcalendar.css" />
    <link rel="stylesheet" href="/assetsnew/css/fullcalendar.css" />
    <link rel="stylesheet" href="/assetsnew/css/main.css" />
  </head>
  <body class="darkTheme">

    <!-- ======== sidebar-nav =========== -->
    <%- include('./theme_assets/mainnav') %>
 
    <!-- ======== main-wrapper start =========== -->      <!-- ========== header start ========== -->
  
    
    <main class="main-wrapper">
      <%- include('./theme_assets/header') %>
          
          <!-- End Row -->
          <div class="row">
            <div class="col">
              <div class="card-style">
                <div class="card-content">
                    <h3><a>Node Status</a></h4>
                    <h4><a> </a></h4>
                  </div>
                  <div class="table-wrapper table-responsive">
                    <table class="table" id="table">
                      <thead>
                        <tr>
                          <th><h6>Status</h6></th>
                          <th><h6>Name</h6></th>
                          <th><h6>Disk</h6></th>
                          <th><h6>Memory</h6></th>
                        </tr>
                        <!-- end table row-->
                      </thead>
                      <tbody>

                      </tbody>
                    </table>
                    <!-- end table -->
                  </div>
                
                <!-- End Chart -->
              </div>
            </div>
            <!-- End Col -->
            </div>

            <!-- End Col -->
          </div>
          <!-- End Row -->
          <%- include('./theme_assets/footer') %>
        </main>
      <!-- ========== section end ========== -->
  
        <script>
          // Find a <table> element with id="myTable":
        async function idk() {
          var table = document.getElementById("table");

          var row = table.insertRow(1);
          fetch('/api/nodes')
        .then(response => response.json())
        .then(json => {
          for(let i = 0; i < json.length; i++) {
          var cell1 = row.insertCell(0);
          var cell2 = row.insertCell(1);
          var cell3 = row.insertCell(2);
          var cell4 = row.insertCell(3);
          cell1.innerHTML = `<p><div class="lead">${(json[i].status == 'online') ? '<div class="lead-image"><img src="https://upload.wikimedia.org/wikipedia/commons/thumb/8/83/Green_dot.svg/300px-Green_dot.svg.png"/></div><h6> Online</h6>' : 'Offline'}</div></p>`;
          cell2.innerHTML = `<h6>${json[i].name}</h6>`;
          cell3.innerHTML = `<h6>${json[i].memory}</h6>`;
          cell4.innerHTML = `<h6>${json[i].disk}</h6>`;
          }
        })
          
        }
          idk()
        </script>
    <!-- ======== main-wrapper end =========== -->

    <!-- ========= All Javascript files linkup ======== -->
    <script src="/assetsnew/js/bootstrap.bundle.min.js"></script>
    <script src="/assetsnew/js/Chart.min.js"></script>
    <script src="/assetsnew/js/dynamic-pie-chart.js"></script>
    <script src="/assetsnew/js/moment.min.js"></script>
    <script src="/assetsnew/js/fullcalendar.js"></script>
    <script src="/assetsnew/js/jvectormap.min.js"></script>
    <script src="/assetsnew/js/world-merc.js"></script>
    <script src="/assetsnew/js/polyfill.js"></script>
    <script src="/assetsnew/js/main.js"></script>

    
  </body>
</html>
